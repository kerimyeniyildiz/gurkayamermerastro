---
import MainLayout from '../../layouts/MainLayout.astro';
import { CATALOG_DATA } from '../../catalogData';
import { CatalogDetailPage } from '../../components/CatalogDetailPage';

export function getStaticPaths() {
  return Object.keys(CATALOG_DATA).map((brandId) => ({
    params: { brandId },
  }));
}

const { brandId } = Astro.params;
const catalog = CATALOG_DATA[brandId || ''];
const pageTitle = catalog?.title
  ? `${catalog.title} Tezgah Modelleri | Gürkaya Mermer Katalog`
  : 'Tezgah Kataloğu | Gürkaya Mermer';
const pageDescription = catalog?.title
  ? `${catalog.title} koleksiyonundaki tezgah modellerini inceleyin. Gürkaya Mermer ile proje ve fiyat teklifi alın.`
  : 'Gürkaya Mermer katalog sayfasında granit, kuvars ve porselen tezgah modellerini inceleyin.';
const canonicalPath = brandId ? `/katalog/${brandId}` : '/katalog';
---

<MainLayout title={pageTitle} description={pageDescription} canonicalPath={canonicalPath} activePage="catalog">
  <CatalogDetailPage brandId={brandId || ''} />
</MainLayout>
